================================================================================
Light 프로젝트 구조 및 모듈
================================================================================

작성일: 2026-01-20
목적: Light 버전 개발을 위한 폴더 및 파일 구조 정의


폴더 구조
================================================================================

Ycfg/
├── .env                        # API 키 저장 (구글, 네이버)
├── requirements.txt            # 라이브러리 목록
│
├── Project_Docs/               # 문서 폴더 (Light_Plan 포함)
│
├── light_mode/                 # [메인] Light 버전 소스코드
│   ├── __init__.py
│   ├── main.py                 # 실행 파일 (이것만 실행하면 됨)
│   ├── config.py               # 설정 관리
│   ├── db.py                   # SQLite DB 연결 및 쿼리 함수
│   ├── gsheet.py               # 구글 시트 연동 모듈
│   │
│   └── collectors/             # 데이터 수집기 모듈
│       ├── __init__.py
│       ├── google.py           # 구글 트렌드 RSS 파싱
│       ├── naver.py            # 네이버 API 호출
│       └── youtube.py          # 유튜브 API 호출
│
└── data/                       # 데이터 저장소
    ├── trend_light.db          # SQLite 데이터베이스 파일 (자동 생성)
    └── service_account.json    # 구글 시트 연동용 인증키 파일


모듈별 상세 역할
================================================================================

1. light_mode/main.py
--------------------------------------------------
- 프로그램의 시작점.
- 1) DB 초기화 체크
- 2) 수집기(collectors) 실행 -> 데이터 확보
- 3) DB 저장
- 4) 구글 시트(gsheet.py) 전송
- 위 과정을 순차적으로 실행하고 로그를 출력함.

2. light_mode/db.py
--------------------------------------------------
- `sqlite3` 라이브러리 사용.
- `init_db()`: 테이블이 없으면 생성.
- `save_keywords()`: 수집된 데이터를 DB에 Upsert (입력/수정).
- `get_today_trends()`: 구글 시트로 보낼 오늘자 데이터 조회.

3. light_mode/gsheet.py
--------------------------------------------------
- `gspread` 라이브러리 사용.
- 구글 서비스 계정(json) 인증.
- `update_sheet(data)`: 판다스 데이터프레임이나 리스트를 받아 시트에 덮어쓰기.

4. light_mode/collectors/*.py
--------------------------------------------------
- 각 플랫폼별 수집 로직 격리.
- 공통 반환 형식:
  [
    {"keyword": "...", "source": "...", "meta": {...}},
    ...
  ]


설치해야 할 라이브러리 (requirements.txt)
================================================================================

requests        # API 호출
feedparser      # 구글 RSS 파싱
beautifulsoup4  # 웹 크롤링 (랭킹뉴스)
gspread         # 구글 시트 연동
oauth2client    # 구글 인증
pandas          # 데이터 정리 (선택사항, 있으면 편함)
python-dotenv   # 환경변수 로드
