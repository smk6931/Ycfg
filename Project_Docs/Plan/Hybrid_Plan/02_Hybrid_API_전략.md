================================================================================
Hybrid API 수집 및 비교 전략 (Total Pack + GenAI)
================================================================================

작성일: 2026-01-20
수정일: 2026-01-20 (GenAI Search 추가)
목적: 무료/유료 API 및 GenAI Search를 모두 활용하여 최적의 수집 파이프라인 구축.


1. 수집 소스 리스트 (비교군)
================================================================================

[Group A: 무료/가성비]
1. Google Trends RSS
   - 장점: 비용 0원, 실시간 급상승 키워드.
   - 단점: 데이터 세부 정보(검색량 수치 등)가 부족함.

2. Naver DataLab API
   - 장점: 한국 시장 정확도 1위.
   - 단점: '검색어'만 나오고 '관련 콘텐츠'는 따로 찾아야 함.

3. YouTube Data API (Official)
   - 장점: 동영상 트렌드 원천 데이터.
   - 단점: 키워드 검색 시 할당량 소모 큼.

[Group B: 유료/고기능 (Apify)]
1. Apify Google Trends Scraper ($7.99/월 + 사용량)
   - 장점: RSS보다 훨씬 상세한 데이터 (검색량 추이 그래프, 지역별 관심도).
   - 비교 포인트: RSS 무료 데이터와 비교해서 돈 낼 가치가 있는지 확인.

2. Apify Instagram Scraper ($29/월 크레딧 차감)
   - 장점: 인스타그램 해시태그/게시물 수집 가능 (유일한 방법).
   - 비교 포인트: 유튜브 트렌드 데이터와 얼마나 겹치는지, 독자적인 이슈가 있는지 확인.

3. Apify Threads Scraper (선택)
   - 장점: 텍스트 기반 최신 트렌드(트위터 느낌) 파악.

[Group C: AI 검색 (Smart / GenAI)]
1. Google Gemini Search Grounding
   - 장점: 복잡한 크롤링 코드 없이 AI에게 "요즘 트렌드 찾아줘"라고 시키면 끝.
   - 특징: 구글 검색 결과를 바탕으로 AI가 요약/정제해서 제공. 데이터 품질 최상.
   - 활용: Group A/B에서 놓친 "맥락형 정보" 보완 (예: "이게 왜 뜬 거야?"에 대한 답).



2. 데이터 품질 비교 및 검증 방법
================================================================================

테이블에 `source_type` 컬럼을 추가하여 출처를 구분합니다.

| 키워드 | 무료계열(A) 발견여부 | 유료계열(B) 발견여부 | 최초발견시각(A) | 최초발견시각(B) |
|--------|----------------------|----------------------|-----------------|-----------------|
| 딥시크 | O (Google RSS)       | O (Google Scraper)   | 09:00           | 08:50           |

[분석 포인트]
1. 속도: 유료 API가 무료 RSS보다 이슈를 더 빨리 잡는가?
2. 독점성: 무료에선 안 보이는데 유료에서만 잡히는 꿀통 키워드가 있는가?
3. 가성비: 무료 소스만으로도 트렌드 상위 80%가 커버되는가?


3. 통합 수집 프로세스
================================================================================

1단계: 광범위 수집 (Broad Crawling)
   - Google RSS (전세계), Naver (한국) -> 무료 소스로 전체 스캔.
   - Apify Google Trends -> 유료 소스로 크로스 체크.

2단계: 검증 및 심화 (Deep Dive)
   - 1단계에서 겹치는 키워드 추출.
   - GenAI에게 해당 키워드의 상세 정보와 관련 뉴스를 검색 요청 (Grounding).
   - "이 키워드가 왜 트렌드인지 설명해줘" -> 요약 데이터 확보.

3단계: 벡터화 및 저장
   - 수집된 키워드와 설명 텍스트를 임베딩 변환.
   - PostgreSQL 저장.
